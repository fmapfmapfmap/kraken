<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Kraken Web</title>

    <!-- <link rel="stylesheet" href="stylesheets/pygment_trac.css">-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script src="js/vendor/jquery-2.1.3.min.js"></script>
    <script src="js/vendor/graphlib-dot.min.js"></script>
    <script src="js/vendor/dagre-d3.min.js"></script>
    <script src="js/kraken-web-client.js"></script>
    <script type="text/javascript" src="http://d3js.org/d3.v3.min.js"></script>
    <link href="css/style.css" rel="stylesheet"/>

  </head>
  <body>
<h1>kraken-web</h2>

<svg id="graphContainer">
    <g/>
</svg>
<a href="/targetGraph.pdf">target graph as pdf</a>

</body>

<script>
var renderer = new dagreD3.render();

var buildGraph = function(dotData) {
    var re = /\[.*\]/g;
    var cleanedUp = dotData.replace(re, "");
    console.log(dotData);
    console.log(cleanedUp);
    var dotDigraph = graphlibDot.read(cleanedUp);
    d3.select("svg g").call(renderer, dotDigraph);
};


targetGraph_dot(buildGraph, function() { console.log("Error fetching dot file"); })
</script>

</html>
